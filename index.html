<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Sender</title>
    <link rel="stylesheet" href="style.css">
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="icon">‚úâÔ∏è</div>
            <h1>Myceli Barcelona</h1>
            <p class="subtitle">Share your thoughts with us</p>
            
            <form id="messageForm">
                <textarea 
                    id="messageText" 
                    placeholder="Type your message here..." 
                    required
                    rows="6"
                ></textarea>

                <!-- add a checbox that says "Don't propagate" -->
                <div class="checkbox-container">
                    <input type="checkbox" id="dontPropagate" name="dontPropagate">
                    <label for="dontPropagate">Don't propagate</label>
                </div>
                <!-- Small vertical space -->
                <div style="height: 10px;"></div>
                <button type="submit" id="submitBtn">
                    <span class="btn-text">Share</span>
                    <span class="btn-loading">Sending...</span>
                </button>
            </form>
            
            <button type="button" id="viewMapBtn" class="secondary-btn">
                <span>üó∫Ô∏è See Thoughts</span>
            </button>
            
            <div class="status-message" id="statusMessage"></div>
        </div>
    </div>

    <!-- Map Modal -->
    <div id="mapModal" class="map-modal">
        <div class="map-container">
            <div class="map-header">
                <h2>Thoughts Map</h2>
                <button id="closeMapBtn" class="close-btn">√ó</button>
            </div>
            <div id="map"></div>
        </div>
    </div>

    <!-- Leaflet JS for maps -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
    <script>
      const titles = [
        "Leave a thought. Let it take root.",
        "What is growing in your mind today?",
        "Plant a thought in the city.",
        "Whisper something to Barcelona.",
        "Let your mind touch the network.",
        "Drop a spore.",
        "What is quietly alive inside you?",
        "Add your voice to the hive.",
        "Feed the collective mind.",
        "Let the network think with you.",
        "Contribute to the shared cortex.",
        "We think together.",
        "Become part of the living mind.",
        "What should Barcelona be thinking about?",
        "Tell the city what‚Äôs on your mind.",
        "Let your thought echo through the streets.",
        "Leave something for strangers to feel.",
        "What does the city need to hear?",
        "Share something small.",
        "What are you carrying today?",
        "Say something you can‚Äôt say out loud.",
        "Leave a trace of your inner world.",
        "What‚Äôs one thing you wish someone knew?",
        "Write a thought‚Ä¶",
        "Plant it here‚Ä¶",
        "Spore‚Ä¶",
        "Contribute‚Ä¶",
        "Leave a trace‚Ä¶",
        "Speak to the underground‚Ä¶"
      ];

      const randomTitle = titles[Math.floor(Math.random() * titles.length)];
      document.querySelector(".subtitle").textContent = randomTitle;
    </script>

    <script>
      const placeholders = [
        "Plant a thought‚Ä¶",
        "Drop a spore‚Ä¶",
        "Leave a trace‚Ä¶",
        "Whisper something‚Ä¶",
        "Feed the hive‚Ä¶",
        "Say something small‚Ä¶",
        "What‚Äôs growing in you?",
        "Add your voice‚Ä¶",
        "One small thought‚Ä¶",
        "Let it take root‚Ä¶"
      ];

      const textarea = document.getElementById("messageText");

      function setRandomPlaceholder() {
        if (textarea.value === "") {
          const random = placeholders[Math.floor(Math.random() * placeholders.length)];
          textarea.placeholder = random;
        }
      }

      // Set once on load
      setRandomPlaceholder();

      // Optional: rotate every 5 seconds (only if empty)
      setInterval(setRandomPlaceholder, 5000);
    </script>
</body>
</html>
